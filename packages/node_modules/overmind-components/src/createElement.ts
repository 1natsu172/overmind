import h from 'snabbdom/h'

import { component } from './component'
import { SELF, getName, normalizeAttrs } from './utils'

export const createElement = (tag, attrs, ...children) => {
  if (typeof tag === 'function') {
    return component(tag, attrs, children)
  }

  return h(
    tag,
    normalizeAttrs(tag, attrs),
    children.reduce((aggr, item) => aggr.concat(item), [])
  )
}
