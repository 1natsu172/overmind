import { createElement } from 'overmind-components'

import { Component } from '../../overmind'
import { colors } from '../../theme'
import ActionPayload from '../ActionPayload'
import ActionSelector from '../ActionSelector'
import * as styles from './styles'

const ActionsTools: Component = (_, { appState, actions }) => (
  <self>
    <form
      className={styles.wrapper}
      onSubmit={(event) => {
        event.preventDefault()
        actions.executeAction()
      }}
    >
      <ActionSelector />
      <ActionPayload />
      <div
        className={styles.button}
        onClick={
          appState.isExecutingAction ? null : () => actions.executeAction()
        }
        style={{
          backgroundColor:
            !appState.isExecutingAction &&
            appState.currentApp.selectedActionQuery
              ? colors.green
              : colors.highlight,
        }}
      >
        execute
      </div>
    </form>
  </self>
)

export default ActionsTools
