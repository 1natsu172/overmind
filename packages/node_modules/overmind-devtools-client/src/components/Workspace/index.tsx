import { createElement } from 'overmind-components'

import { Component } from '../../overmind'
import { Tab } from '../../overmind/types'
import Actions from '../Actions'
import Charts from '../Charts'
import Components from '../Components'
import Console from '../Console'
import Flushes from '../Flushes'
import History from '../History'
import State from '../State'
import Tabs from '../Tabs'
import * as styles from './styles'

const pages: { [key in Tab]: Component } = {
  [Tab.Actions]: Actions,
  [Tab.Console]: Console,
  [Tab.State]: State,
  [Tab.Components]: Components,
  [Tab.Flushes]: Flushes,
  [Tab.Remove]: () => null,
  [Tab.History]: History,
  [Tab.Charts]: Charts,
}

const Workspace: Component = (_, { store }) => {
  const Page = pages[store.currentTab]

  return (
    <self className={styles.wrapper}>
      <div className={styles.content}>
        <Tabs />
        <div className={styles.pageContainer}>{<Page />}</div>
      </div>
    </self>
  )
}

export default Workspace
